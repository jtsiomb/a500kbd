EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Amiga A500 - PS/2 keyboard controller"
Date "2017-10-11"
Rev "1"
Comp "Mutant Stargoat"
Comment1 "Creative Commons Attribution Share-Alike (CC BY-SA)"
Comment2 "Copyright (C) 2017 John Tsiombikas <nuclear@member.fsf.org>"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L a500kbd-rescue:ps2conn U3
U 1 1 59DD9993
P 7700 3950
F 0 "U3" H 7450 3700 60  0000 C CNN
F 1 "ps2conn" V 7850 3950 60  0000 C CNN
F 2 "" H 7700 3950 60  0001 C CNN
F 3 "" H 7700 3950 60  0001 C CNN
	1    7700 3950
	0    1    -1   0   
$EndComp
$Comp
L a500kbd-rescue:ATMEGA88-20PU U1
U 1 1 59DD9A9D
P 4800 3800
F 0 "U1" H 3950 5100 50  0000 L BNN
F 1 "ATMEGA88-20PU" H 5150 2450 50  0000 L BNN
F 2 "DIL28" H 4800 3800 50  0001 C CIN
F 3 "" H 4800 3800 50  0001 C CNN
	1    4800 3800
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:GND #PWR12
U 1 1 59DD9D4A
P 7100 3950
F 0 "#PWR12" H 7100 3700 50  0001 C CNN
F 1 "GND" H 7100 3800 50  0000 C CNN
F 2 "" H 7100 3950 50  0001 C CNN
F 3 "" H 7100 3950 50  0001 C CNN
	1    7100 3950
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:VCC #PWR14
U 1 1 59DD9DD3
P 8100 3950
F 0 "#PWR14" H 8100 3800 50  0001 C CNN
F 1 "VCC" H 8100 4100 50  0000 C CNN
F 2 "" H 8100 3950 50  0001 C CNN
F 3 "" H 8100 3950 50  0001 C CNN
	1    8100 3950
	1    0    0    -1  
$EndComp
Text Label 5800 4450 0    60   ~ 0
PCLK
$Comp
L a500kbd-rescue:AVR-ISP-6 CON1
U 1 1 59DD9E89
P 6750 3150
F 0 "CON1" H 6645 3390 50  0000 C CNN
F 1 "ISP" H 6485 2920 50  0000 L BNN
F 2 "AVR-ISP-6" V 6230 3190 50  0001 C CNN
F 3 "" H 6725 3150 50  0001 C CNN
	1    6750 3150
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:VCC #PWR11
U 1 1 59DD9F46
P 7100 3050
F 0 "#PWR11" H 7100 2900 50  0001 C CNN
F 1 "VCC" H 7100 3200 50  0000 C CNN
F 2 "" H 7100 3050 50  0001 C CNN
F 3 "" H 7100 3050 50  0001 C CNN
	1    7100 3050
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:GND #PWR10
U 1 1 59DD9F84
P 6850 3300
F 0 "#PWR10" H 6850 3050 50  0001 C CNN
F 1 "GND" H 6850 3150 50  0000 C CNN
F 2 "" H 6850 3300 50  0001 C CNN
F 3 "" H 6850 3300 50  0001 C CNN
	1    6850 3300
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:Crystal Y1
U 1 1 59DDA0C7
P 6050 3400
F 0 "Y1" H 6050 3550 50  0000 C CNN
F 1 "Crystal" H 6050 3250 50  0000 C CNN
F 2 "" H 6050 3400 50  0001 C CNN
F 3 "" H 6050 3400 50  0001 C CNN
	1    6050 3400
	0    1    1    0   
$EndComp
$Comp
L a500kbd-rescue:C C3
U 1 1 59DDA1C6
P 6050 3700
F 0 "C3" H 6075 3800 50  0000 L CNN
F 1 "22pF" H 6075 3600 50  0000 L CNN
F 2 "" H 6088 3550 50  0001 C CNN
F 3 "" H 6050 3700 50  0001 C CNN
	1    6050 3700
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:C C4
U 1 1 59DDA28B
P 6300 3700
F 0 "C4" H 6325 3800 50  0000 L CNN
F 1 "22pF" H 6325 3600 50  0000 L CNN
F 2 "" H 6338 3550 50  0001 C CNN
F 3 "" H 6300 3700 50  0001 C CNN
	1    6300 3700
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:GND #PWR8
U 1 1 59DDA306
P 6300 3850
F 0 "#PWR8" H 6300 3600 50  0001 C CNN
F 1 "GND" H 6300 3700 50  0000 C CNN
F 2 "" H 6300 3850 50  0001 C CNN
F 3 "" H 6300 3850 50  0001 C CNN
	1    6300 3850
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:VCC #PWR3
U 1 1 59DDA579
P 3800 2650
F 0 "#PWR3" H 3800 2500 50  0001 C CNN
F 1 "VCC" H 3800 2800 50  0000 C CNN
F 2 "" H 3800 2650 50  0001 C CNN
F 3 "" H 3800 2650 50  0001 C CNN
	1    3800 2650
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:GND #PWR4
U 1 1 59DDA5C3
P 3800 4950
F 0 "#PWR4" H 3800 4700 50  0001 C CNN
F 1 "GND" H 3800 4800 50  0000 C CNN
F 2 "" H 3800 4950 50  0001 C CNN
F 3 "" H 3800 4950 50  0001 C CNN
	1    3800 4950
	1    0    0    -1  
$EndComp
NoConn ~ 3800 3250
$Comp
L a500kbd-rescue:C C2
U 1 1 59DDA7B2
P 3600 4000
F 0 "C2" H 3625 4100 50  0000 L CNN
F 1 "0.1uF" H 3625 3900 50  0000 L CNN
F 2 "" H 3638 3850 50  0001 C CNN
F 3 "" H 3600 4000 50  0001 C CNN
	1    3600 4000
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:GND #PWR2
U 1 1 59DDAB03
P 3600 4150
F 0 "#PWR2" H 3600 3900 50  0001 C CNN
F 1 "GND" H 3600 4000 50  0000 C CNN
F 2 "" H 3600 4150 50  0001 C CNN
F 3 "" H 3600 4150 50  0001 C CNN
	1    3600 4150
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:VCC #PWR1
U 1 1 59DDABEE
P 3600 3850
F 0 "#PWR1" H 3600 3700 50  0001 C CNN
F 1 "VCC" H 3600 4000 50  0000 C CNN
F 2 "" H 3600 3850 50  0001 C CNN
F 3 "" H 3600 3850 50  0001 C CNN
	1    3600 3850
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:C C1
U 1 1 59DDADD5
P 3300 4000
F 0 "C1" H 3325 4100 50  0000 L CNN
F 1 "0.1uF" H 3325 3900 50  0000 L CNN
F 2 "" H 3338 3850 50  0001 C CNN
F 3 "" H 3300 4000 50  0001 C CNN
	1    3300 4000
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:a500kbd_conn U2
U 1 1 59DDBCD1
P 6150 5500
F 0 "U2" H 5900 5100 60  0000 C CNN
F 1 "intkbd" V 6400 5550 60  0000 C CNN
F 2 "" H 6450 4850 60  0001 C CNN
F 3 "" H 6450 4850 60  0001 C CNN
	1    6150 5500
	-1   0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:GND #PWR7
U 1 1 59DDC6E9
P 6050 6050
F 0 "#PWR7" H 6050 5800 50  0001 C CNN
F 1 "GND" H 6050 5900 50  0000 C CNN
F 2 "" H 6050 6050 50  0001 C CNN
F 3 "" H 6050 6050 50  0001 C CNN
	1    6050 6050
	1    0    0    -1  
$EndComp
Text Label 5700 2950 0    60   ~ 0
MOSI
Text Label 5700 3050 0    60   ~ 0
MISO
Text Label 5700 3150 0    60   ~ 0
SCK
Text Label 5900 4100 0    60   ~ 0
~RESET
Text Label 5700 3250 0    60   ~ 0
XTAL0
Text Label 5700 3350 0    60   ~ 0
XTAL1
NoConn ~ 5700 3700
NoConn ~ 5700 3800
NoConn ~ 5700 3900
NoConn ~ 5700 4000
$Comp
L a500kbd-rescue:CONN_01X04 J1
U 1 1 59DDD3D1
P 6950 3750
F 0 "J1" H 6950 4000 50  0000 C CNN
F 1 "SERIAL" V 7050 3750 50  0000 C CNN
F 2 "" H 6950 3750 50  0001 C CNN
F 3 "" H 6950 3750 50  0001 C CNN
	1    6950 3750
	0    -1   -1   0   
$EndComp
$Comp
L a500kbd-rescue:VCC #PWR9
U 1 1 59DDD4D2
P 6650 3750
F 0 "#PWR9" H 6650 3600 50  0001 C CNN
F 1 "VCC" H 6650 3900 50  0000 C CNN
F 2 "" H 6650 3750 50  0001 C CNN
F 3 "" H 6650 3750 50  0001 C CNN
	1    6650 3750
	1    0    0    -1  
$EndComp
Text Label 6650 4150 0    60   ~ 0
RXD
Text Label 6650 4250 0    60   ~ 0
TXD
Wire Wire Line
	7200 2950 7200 3150
Wire Wire Line
	7200 3150 6850 3150
Wire Wire Line
	6850 3050 7100 3050
Wire Wire Line
	6850 3250 6850 3300
Wire Wire Line
	6600 3250 6550 3250
Wire Wire Line
	6550 4100 6550 3500
Wire Wire Line
	5700 3250 6050 3250
Wire Wire Line
	6300 3250 6300 3550
Connection ~ 6050 3250
Connection ~ 6050 3550
Wire Wire Line
	6050 3850 6300 3850
Connection ~ 6300 3850
Wire Wire Line
	3800 2650 3800 2950
Connection ~ 3800 2650
Wire Wire Line
	3800 4950 3800 4850
Connection ~ 3800 4950
Wire Wire Line
	3300 3850 3600 3850
Wire Wire Line
	3300 4150 3600 4150
Connection ~ 3600 4150
Connection ~ 3600 3850
Wire Wire Line
	6050 3550 5800 3550
Wire Wire Line
	5800 3550 5800 3350
Wire Wire Line
	5800 3350 5700 3350
Wire Wire Line
	5700 4100 5850 4100
Wire Wire Line
	6600 3150 5700 3150
Wire Wire Line
	6600 3050 5700 3050
Wire Wire Line
	7200 2950 5700 2950
Wire Wire Line
	6800 3950 6650 3950
Wire Wire Line
	6650 3950 6650 3750
Wire Wire Line
	5700 4250 5700 4150
Wire Wire Line
	5700 4150 6900 4150
Wire Wire Line
	6900 4150 6900 3950
Wire Wire Line
	5700 4350 5750 4350
Wire Wire Line
	5750 4350 5750 4250
Wire Wire Line
	5750 4250 7000 4250
Wire Wire Line
	7000 4250 7000 3950
Wire Wire Line
	5700 4450 7600 4450
Wire Wire Line
	7100 3950 7300 3950
Connection ~ 7100 3950
Wire Wire Line
	7800 4450 7800 4650
Wire Wire Line
	7800 4650 5700 4650
NoConn ~ 5700 3500
NoConn ~ 5700 3600
NoConn ~ 5700 2750
NoConn ~ 5700 2850
Wire Wire Line
	5700 4550 7350 4550
$Comp
L a500kbd-rescue:VCC #PWR6
U 1 1 59E2D903
P 6050 5050
F 0 "#PWR6" H 6050 4900 50  0001 C CNN
F 1 "VCC" H 6050 5200 50  0000 C CNN
F 2 "" H 6050 5050 50  0001 C CNN
F 3 "" H 6050 5050 50  0001 C CNN
	1    6050 5050
	1    0    0    -1  
$EndComp
Text Label 5800 4550 0    60   ~ 0
ACLK
Text Label 5800 4650 0    60   ~ 0
PDATA
Text Label 5800 4750 0    60   ~ 0
ADATA
Wire Wire Line
	5700 4750 7450 4750
$Comp
L a500kbd-rescue:R R2
U 1 1 59E3CD35
P 8100 4400
F 0 "R2" V 8180 4400 50  0000 C CNN
F 1 "4.7k" V 8100 4400 50  0000 C CNN
F 2 "" V 8030 4400 50  0001 C CNN
F 3 "" H 8100 4400 50  0001 C CNN
	1    8100 4400
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:SW_DPDT_x2 SW2
U 1 1 59E3D07D
P 7900 5050
F 0 "SW2" H 7900 5220 50  0000 C CNN
F 1 "SW_DPDT_x2" H 7700 4950 50  0000 C CNN
F 2 "" H 7900 5050 50  0001 C CNN
F 3 "" H 7900 5050 50  0001 C CNN
	1    7900 5050
	-1   0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:SW_DPDT_x2 SW2
U 2 1 59E3D417
P 7900 5450
F 0 "SW2" H 7900 5620 50  0000 C CNN
F 1 "SW_DPDT_x2" H 7700 5350 50  0000 C CNN
F 2 "" H 7900 5450 50  0001 C CNN
F 3 "" H 7900 5450 50  0001 C CNN
	2    7900 5450
	-1   0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:a500kbd_conn U4
U 1 1 59E3D757
P 9000 5500
F 0 "U4" H 8750 5100 60  0000 C CNN
F 1 "kbout" V 9250 5550 60  0000 C CNN
F 2 "" H 9300 4850 60  0001 C CNN
F 3 "" H 9300 4850 60  0001 C CNN
	1    9000 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 5050 8350 5050
Wire Wire Line
	8350 5050 8350 5300
Wire Wire Line
	8350 5300 8500 5300
Wire Wire Line
	8100 5450 8350 5450
Wire Wire Line
	8350 5450 8350 5400
Wire Wire Line
	8350 5400 8500 5400
Wire Wire Line
	7350 4550 7350 5350
Wire Wire Line
	7350 5350 7700 5350
Wire Wire Line
	7450 4750 7450 4950
Wire Wire Line
	7450 4950 7700 4950
Connection ~ 7350 4550
$Comp
L a500kbd-rescue:R R3
U 1 1 59E3E98A
P 8300 4400
F 0 "R3" V 8380 4400 50  0000 C CNN
F 1 "4.7k" V 8300 4400 50  0000 C CNN
F 2 "" V 8230 4400 50  0001 C CNN
F 3 "" H 8300 4400 50  0001 C CNN
	1    8300 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8300 4750 8300 4550
Connection ~ 7450 4750
$Comp
L a500kbd-rescue:VCC #PWR15
U 1 1 59E3EAB6
P 8200 4250
F 0 "#PWR15" H 8200 4100 50  0001 C CNN
F 1 "VCC" H 8200 4400 50  0000 C CNN
F 2 "" H 8200 4250 50  0001 C CNN
F 3 "" H 8200 4250 50  0001 C CNN
	1    8200 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 4250 8200 4250
Connection ~ 8200 4250
Wire Wire Line
	6650 5300 7200 5300
Wire Wire Line
	7200 5300 7200 5150
Wire Wire Line
	7200 5150 7700 5150
Text Label 6650 5300 0    60   ~ 0
INTKB_DATA
Text Label 6650 5400 0    60   ~ 0
INTKB_CLOCK
Wire Wire Line
	6650 5400 7200 5400
Wire Wire Line
	7200 5400 7200 5550
Wire Wire Line
	7200 5550 7700 5550
Wire Wire Line
	5700 4850 5800 4850
Wire Wire Line
	5800 4850 5800 6300
Wire Wire Line
	8500 6300 6850 6300
Wire Wire Line
	6850 6300 6850 5550
Wire Wire Line
	6850 5550 6650 5550
Wire Wire Line
	8500 5550 8500 6300
Connection ~ 6850 6300
Text Label 6950 6300 0    60   ~ 0
AMIGA_RESET
$Comp
L a500kbd-rescue:GND #PWR17
U 1 1 59E3F2E8
P 9100 6050
F 0 "#PWR17" H 9100 5800 50  0001 C CNN
F 1 "GND" H 9100 5900 50  0000 C CNN
F 2 "" H 9100 6050 50  0001 C CNN
F 3 "" H 9100 6050 50  0001 C CNN
	1    9100 6050
	1    0    0    -1  
$EndComp
$Comp
L a500kbd-rescue:VCC #PWR16
U 1 1 59E3F32F
P 9100 5050
F 0 "#PWR16" H 9100 4900 50  0001 C CNN
F 1 "VCC" H 9100 5200 50  0000 C CNN
F 2 "" H 9100 5050 50  0001 C CNN
F 3 "" H 9100 5050 50  0001 C CNN
	1    9100 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6650 5700 8500 5700
Wire Wire Line
	6650 5800 6750 5800
Wire Wire Line
	5700 4950 5850 4950
Wire Wire Line
	5850 4950 5850 6250
Wire Wire Line
	5850 6250 6750 6250
Wire Wire Line
	6750 6250 6750 5800
Connection ~ 6750 5800
$Comp
L a500kbd-rescue:R R1
U 1 1 59E40996
P 5850 3950
F 0 "R1" V 5930 3950 50  0000 C CNN
F 1 "4.7k" V 5850 3950 50  0000 C CNN
F 2 "" V 5780 3950 50  0001 C CNN
F 3 "" H 5850 3950 50  0001 C CNN
	1    5850 3950
	1    0    0    -1  
$EndComp
Connection ~ 5850 4100
$Comp
L a500kbd-rescue:VCC #PWR5
U 1 1 59E40D4F
P 5850 3800
F 0 "#PWR5" H 5850 3650 50  0001 C CNN
F 1 "VCC" H 5850 3950 50  0000 C CNN
F 2 "" H 5850 3800 50  0001 C CNN
F 3 "" H 5850 3800 50  0001 C CNN
	1    5850 3800
	1    0    0    -1  
$EndComp
NoConn ~ 5700 2650
Text Label 7050 5800 0    60   ~ 0
DRVLED
Text Label 7050 5700 0    60   ~ 0
STLED
Text Label 8100 5050 0    60   ~ 0
ODAT
Text Label 8100 5450 0    60   ~ 0
OCLK
$Comp
L a500kbd-rescue:SW_Push SW1
U 1 1 59E5C5FC
P 7450 3500
F 0 "SW1" H 7500 3600 50  0000 L CNN
F 1 "RESET" H 7450 3440 50  0000 C CNN
F 2 "" H 7450 3700 50  0001 C CNN
F 3 "" H 7450 3700 50  0001 C CNN
	1    7450 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 3500 6550 3500
Connection ~ 6550 3500
$Comp
L a500kbd-rescue:GND #PWR13
U 1 1 59E5C78A
P 7650 3500
F 0 "#PWR13" H 7650 3250 50  0001 C CNN
F 1 "GND" H 7650 3350 50  0000 C CNN
F 2 "" H 7650 3500 50  0001 C CNN
F 3 "" H 7650 3500 50  0001 C CNN
	1    7650 3500
	1    0    0    -1  
$EndComp
Wire Notes Line
	7700 5650 7700 4800
Wire Notes Line
	7700 4800 8400 4800
Wire Notes Line
	8400 4800 8400 5650
Wire Notes Line
	8400 5650 7700 5650
Wire Wire Line
	6050 3250 6300 3250
Wire Wire Line
	7350 4550 8100 4550
Wire Wire Line
	7450 4750 8300 4750
Wire Wire Line
	8200 4250 8300 4250
Wire Wire Line
	6850 6300 5800 6300
Wire Wire Line
	6750 5800 8500 5800
Wire Wire Line
	5850 4100 6550 4100
Wire Wire Line
	6550 3500 6550 3250
$EndSCHEMATC
